!function(e){"use strict";if(window.CanvasSlideshowEx=function(i){var a=this;(i=i||{}).container=i.hasOwnProperty("container")?i.container:"",i.pixiSprites=i.hasOwnProperty("sprites")?i.sprites:[],i.displaceScale=i.hasOwnProperty("displaceScale")?i.displaceScale:[200,70],i.displacementImage=i.hasOwnProperty("displacementImage")?i.displacementImage:"",i.wacky=!!i.hasOwnProperty("wacky")&&i.wacky,i.displaceScaleTo=[0,0];var t=new PIXI.autoDetectRenderer(970,621,{transparent:!0}),n=new PIXI.Container,s=new PIXI.Container,r=new PIXI.Sprite.fromImage(i.displacementImage),c=new PIXI.filters.DisplacementFilter(r);this.currentIndex=0,this.initPixi=function(){document.getElementsByClassName(i.container)[0].appendChild(t.view),n.addChild(s),r.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT,n.filters=[c],!0===i.wacky&&(r.anchor.set(.5),r.x=t.width/2,r.y=t.height/2),r.scale.x=2,r.scale.y=2,n.addChild(r)},this.loadPixiSprites=function(e){for(var a=i.sprites,t=0;t<a.length;t++){var n=new PIXI.Texture.fromImage(e[t]),r=new PIXI.Sprite(n);0!==t&&TweenMax.set(r,{alpha:0}),s.addChild(r)}};var l=new PIXI.ticker.Ticker;l.autoStart=!0,l.add(function(e){t.render(n)});var o=s.children;this.moveSlider=function(e){!0;var t=new TimelineMax({onComplete:function(){a.currentIndex=e,!1,!0===i.wacky&&r.scale.set(1)},onUpdate:function(){!0===i.wacky&&(r.rotation+=.02*t.progress(),r.scale.set(3*t.progress()))}});t.clear(),t.isActive()||t.to(c.scale,1,{x:i.displaceScale[0],y:i.displaceScale[1],ease:Power1.easeOut}).to(o[a.currentIndex],.5,{alpha:0,ease:Power2.easeOut},.2).to(o[e],.5,{alpha:1,ease:Power2.easeOut},.3).to(c.scale,1,{x:i.displaceScaleTo[0],y:i.displaceScaleTo[1],ease:Power2.easeOut},.3)},this.init=function(){a.initPixi(),a.loadPixiSprites(i.pixiSprites)},this.init(),a.moveSlider(0);new Swiper(".experience-carousel .swiper-container",{effect:"fade",speed:1500,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preventInteractionOnTransition:!0,on:{init:function(){setTimeout(function(){e(".experience-carousel").find(".swiper-slide.swiper-slide-active").addClass("animate-active")},500)},slideChange:function(){a.moveSlider(this.realIndex),e(".experience-carousel").find(".swiper-slide").removeClass("animate-active"),e(".experience-carousel").find(".swiper-slide").eq(this.realIndex).addClass("animate-active")}}});e(".experience-carousel .swiper-buttons > div").addClass("enabled")},e(".slide-ex-item__image").length){for(var i=document.querySelectorAll(".slide-ex-item__image"),a=document.querySelectorAll(".experience-carousel")[0].dataset.dispimgpath,t=[],n=0;n<i.length;n++){var s=i[n];t.push(s.getAttribute("src"))}new CanvasSlideshowEx({container:"slides-ex-items__image",sprites:t,displacementImage:a,wacky:!0})}}(jQuery);
